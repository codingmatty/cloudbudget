{"version":3,"sources":["../../src/db/accessToken.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAIA,IAAM,iBAAiB,GAAG,cAHP,MAAM,CAGY;AACnC,QAAM,EAAE,EAAE,IAAI,EAAE,UAJC,MAAM,CAIA,KAAK,CAAC,QAAQ,EAAE,GAAG,EAAE,MAAM,EAAE;AACpD,UAAQ,EAAE,EAAE,IAAI,EAAE,UALD,MAAM,CAKE,KAAK,CAAC,QAAQ,EAAE,GAAG,EAAE,QAAQ,EAAE;AACxD,OAAK,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;AACvC,cAAY,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;AAC9C,MAAI,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,GAAG,EAAE,OAAO,EAAE,KAAK,EAAE;AAAA,CACxD,EAAE;AACD,QAAM,EAAE,MATD,kBAAkB,GASG;CAC7B,CAAC,CAAC;;AAEH,iBAAiB,CAAC,OAAO,CAAC,cAAc,GAAG,YAAM;AAC/C,SAAO;AACL,SAAK,EAAE,oBAAU,QAAQ,CAAC,EAAE,CAAC;AAC7B,gBAAY,EAAE,oBAAU,QAAQ,CAAC,EAAE,CAAC;GACrC,CAAC;CACH,CAAC;;AAEF,IAAM,WAAW,GAAG,mBAAS,KAAK,CAAC,aAAa,EAAE,iBAAiB,CAAC,CAAC;;kBAEtD,WAAW","file":"accessToken.js","sourcesContent":["import randomKey from 'random-key';\nimport mongoose, { Schema } from 'mongoose';\nimport { defaultJSONOptions } from './';\n\nconst accessTokenSchema = new Schema({\n  userId: { type: Schema.Types.ObjectId, ref: 'User' },\n  clientId: { type: Schema.Types.ObjectId, ref: 'Client' },\n  token: { type: String, required: true },\n  refreshToken: { type: String, required: true },\n  date: { type: Date, default: Date.now, expires: '14d' } // AccessToken expires in 14 days.\n}, {\n  toJSON: defaultJSONOptions()\n});\n\naccessTokenSchema.statics.generateTokens = () => {\n  return {\n    token: randomKey.generate(64),\n    refreshToken: randomKey.generate(64)\n  };\n};\n\nconst AccessToken = mongoose.model('AccessToken', accessTokenSchema);\n\nexport default AccessToken;\n"]}