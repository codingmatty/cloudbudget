{"version":3,"sources":["../../src/db/index.js"],"names":[],"mappings":";;;;;;QAYgB,kBAAkB,GAAlB,kBAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAJlC,IAAM,EAAE,GAAG,mBAAS,OAAO,CAAC,iBAAO,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;;kBAE9C,EAAE;AAEV,SAAS,kBAAkB,CAAC,yBAAyB,EAAE;AAC5D,SAAO;AACL,WAAO,EAAE,IAAI;AACb,YAAQ,EAAE,IAAI;AACd,aAAS,EAAE,mBAAC,GAAG,EAAE,GAAG,EAAK;AACvB,aAAO,GAAG,CAAC,GAAG,CAAC;AACf,aAAO,GAAG,CAAC,GAAG,CAAC;AACf,SAAG,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC;AAC3B,UAAI,GAAG,CAAC,IAAI,EAAE;AACZ,WAAG,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,YAAY,UArBpB,KAAK,CAqBqB,QAAQ,GAAG,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;OAChF;AACD,UAAI,yBAAyB,EAAE,yBAAyB,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;KACpE;GACF,CAAC;CACH;;QAGC,IAAI;QACJ,MAAM;QACN,WAAW;QACX,OAAO;QACP,WAAW","file":"index.js","sourcesContent":["import mongoose, { Types } from 'mongoose';\nimport User from './user';\nimport Client from './client';\nimport Account from './account';\nimport AccessToken from './accessToken';\nimport Transaction from './transaction';\nimport config from '../../config.json';\n\nconst db = mongoose.connect(config[process.env.NODE_ENV].db);\n\nexport default db;\n\nexport function defaultJSONOptions(specificTransformFunction) {\n  return {\n    getters: true,\n    virtuals: true,\n    transform: (doc, ret) => {\n      delete ret._id;\n      delete ret.__v;\n      ret.id = ret.id.toString();\n      if (ret.user) {\n        ret.user = ret.user instanceof Types.ObjectId ? ret.user.toString() : ret.user;\n      }\n      if (specificTransformFunction) specificTransformFunction(doc, ret);\n    }\n  };\n}\n\nexport {\n  User,\n  Client,\n  AccessToken,\n  Account,\n  Transaction\n};\n"]}